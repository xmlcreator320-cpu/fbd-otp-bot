<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FB OTP SENDER V6</title>
    <style>
        body { background: #000; color: #00ff41; font-family: 'Courier New', monospace; padding: 15px; }
        .box { border: 2px solid #00ff41; padding: 20px; border-radius: 10px; box-shadow: 0 0 20px #00ff41; max-width: 500px; margin: auto; }
        textarea, input { width: 100%; background: #0a0a0a; color: #00ff41; border: 1px solid #00ff41; padding: 12px; margin-bottom: 15px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #00ff41; color: #000; font-weight: bold; border: none; cursor: pointer; text-transform: uppercase; }
        .stats { display: flex; justify-content: space-around; margin: 15px 0; font-size: 18px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        #logs { height: 250px; overflow-y: auto; border: 1px solid #222; padding: 10px; background: #050505; font-size: 13px; line-height: 1.6; }
        .live { color: #00ff41; text-shadow: 0 0 5px #00ff41; }
        .die { color: #ff3131; }
        .header { text-align: center; margin-bottom: 20px; text-shadow: 0 0 10px #00ff41; }
    </style>
</head>
<body>
    <div class="box">
        <div class="header"><h2>⚡ FB OTP SENDER V6 ⚡</h2></div>
        
        <input type="text" id="proxy" placeholder="Proxy (User:Pass@IP:Port) - Optional">
        <textarea id="list" rows="8" placeholder="Enter Mobile Numbers (One per line)"></textarea>
        
        <div class="stats">
            <span class="live">LIVE: <b id="live_count">0</b></span>
            <span class="die">DIE: <b id="die_count">0</b></span>
        </div>
        
        <button onclick="start()">START ATTACK</button>
        <div id="logs">> Terminal Ready...</div>
    </div>

    <script>
        async function start() {
            const numbers = document.getElementById('list').value.split('\n').filter(n => n.trim() !== "");
            const proxy = document.getElementById('proxy').value.trim();
            let live = 0, die = 0;
            const logBox = document.getElementById('logs');

            logBox.innerHTML += `<div>> Starting Attack on ${numbers.length} numbers...</div>`;

            for (let num of numbers) {
                logBox.innerHTML += `<div>> Checking: ${num}...</div>`;
                logBox.scrollTop = logBox.scrollHeight;

                try {
                    const response = await fetch('/check', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({phone: num.trim(), proxy: proxy})
                    });
                    const result = await response.json();

                    if (result.status === 'LIVE') {
                        live++; document.getElementById('live_count').innerText = live;
                        logBox.innerHTML += `<div class="live">> [SUCCESS] ${num} - OTP SENT! ✅</div>`;
                    } else {
                        die++; document.getElementById('die_count').innerText = die;
                        logBox.innerHTML += `<div class="die">> [FAILED] ${num} - Dead ❌</div>`;
                    }
                } catch (e) {
                    logBox.innerHTML += `<div class="die">> [ERROR] Connection Failed</div>`;
                }
            }
            logBox.innerHTML += `<div>> Attack Finished.</div>`;
        }
    </script>
</body>
    </html>
